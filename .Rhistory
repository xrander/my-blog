gef |>
filter(approval_fy >= 1991) |>
select(agencies, approval_fy) |>
separate_longer_delim(agencies, delim = ",") |>
mutate(
agencies = str_trim(agencies)
) |>
group_by(agencies) |>
slice_min(approval_fy, n = 1) |>
print(n = 100)
gef |>
filter(approval_fy >= 1991) |>
select(agencies, approval_fy) |>
separate_longer_delim(agencies, delim = ",") |>
mutate(
agencies = str_trim(agencies)
) |>
group_by(agencies) |>
slice_min(approval_fy, n = 1) |>
distinct()
gef |>
filter(approval_fy >= 1991) |>
select(agencies, approval_fy) |>
separate_longer_delim(agencies, delim = ",") |>
mutate(
agencies = str_trim(agencies)
) |>
group_by(agencies) |>
slice_min(approval_fy, n = 1) |>
distinct() |>
ungroup() |>
print(n = 100)
gef |>
filter(approval_fy >= 1991) |>
select(agencies, approval_fy) |>
separate_longer_delim(agencies, delim = ",") |>
mutate(
agencies = str_trim(agencies)
) |>
group_by(agencies) |>
slice_min(approval_fy, n = 1) |>
distinct() |>
ungroup() |>
arrange(n = 100) |>
print(n = 100)
gef |>
filter(approval_fy >= 1991) |>
select(agencies, approval_fy) |>
separate_longer_delim(agencies, delim = ",") |>
mutate(
agencies = str_trim(agencies)
) |>
group_by(agencies) |>
slice_min(approval_fy, n = 1) |>
distinct() |>
ungroup() |>
arrange(approval_fy) |>
print(n = 100)
gef |>
filter(agencies == "Ministry of Environmental Protection of China") |>
select(approval_fy) |>
arrange(approval_fy)
gef |>
filter(agencies == "Ministry of Environmental Protection of China") |>
select(approval_fy)
gef |>
filter(str_detect("Ministry of Environmental Protection of China")) |>
select(approval_fy) |>
arrange(approval_fy)
gef |>
filter(str_detect(agencies, "Ministry of Environmental Protection of China")) |>
select(approval_fy) |>
arrange(approval_fy)
gef |>
filter(str_detect(agencies, "Ministry of Environmental Protection of China")) |>
arrange(approval_fy)
distinct() |>
arrange(agencies)
agencies <- gef |>
filter(approval_fy >= 1991) |>
select(agencies, approval_fy) |>
separate_longer_delim(agencies, delim = ",") |>
mutate(
agencies = str_trim(agencies)
) |>
group_by(agencies) |>
slice_min(approval_fy, n = 1) |>
distinct() |>
ungroup() |>
arrange(approval_fy) |>
distinct()
agencies
agencies <- agencies |>
bind_cols(list(agencies_abr, icons)) |>
set_names(c("agencies", "year", "abbr", "logo"))
agencies
agencies <- gef |>
filter(approval_fy >= 1991) |>
select(agencies, approval_fy) |>
separate_longer_delim(agencies, delim = ",") |>
mutate(
agencies = str_trim(agencies)
) |>
distinct() |>
arrange(agencies)
agencies
agencies <- gef |>
select(agencies) |>
separate_longer_delim(agencies, delim = ",") |>
mutate(
agencies = str_trim(agencies)
) |>
distinct() |>
arrange(agencies)
agencies
agencies <- agencies |>
bind_cols(list(agencies_abr, icons)) |>
set_names(c("agencies", "abbr", "logo"))
agencies
agencies |>
gt() |>
cols_label(
agencies = "Partners",
abbr = "Abbreviation",
logo = "Logo"
) |>
tab_header(
title = "AGENCIES SUPPORTING GEF"
) |>
text_transform(
fn = function(x){
local_image(
filename = icons,
height = 50
)
},
locations = cells_body(
columns = logo
)
) |>
cols_align(
columns = logo,
align = "center"
) |>
opt_stylize(
style = 6,
color = "gray"
) |>
as_raw_html()
#| label: fig-plot
#| fig-cap: Agencies of The Global Environment Facility since its establishment in 1991
gef |>
gef |>
filter(approval_fy >= 1991) |>
select(agencies, approval_fy) |>
separate_longer_delim(agencies, delim = ",") |>
mutate(
agencies = str_trim(agencies)
) |>
group_by(agencies) |>
slice_min(approval_fy, n = 1) |>
distinct() |>
ungroup() |>
arrange(agencies)
#| label: fig-plot
#| fig-cap: Agencies of The Global Environment Facility since its establishment in 1991
gef |>
filter(approval_fy >= 1991) |>
select(agencies, approval_fy) |>
separate_longer_delim(agencies, delim = ",") |>
mutate(
agencies = str_trim(agencies)
) |>
group_by(agencies) |>
slice_min(approval_fy, n = 1) |>
distinct() |>
ungroup() |>
arrange(agencies)
#| label: fig-plot
#| fig-cap: Agencies of The Global Environment Facility since its establishment in 1991
agen_year <- gef |>
filter(approval_fy >= 1991) |>
select(agencies, approval_fy) |>
separate_longer_delim(agencies, delim = ",") |>
mutate(
agencies = str_trim(agencies)
) |>
group_by(agencies) |>
slice_min(approval_fy, n = 1) |>
distinct() |>
ungroup() |>
arrange(agencies)
agen_year |>
bind_cols(list(agencies_abr, icons)) |>
set_names(c("agencies", "abbr", "logo"))
#| label: fig-plot
#| fig-cap: Agencies of The Global Environment Facility since its establishment in 1991
agen_year <- gef |>
filter(approval_fy >= 1991) |>
select(agencies, approval_fy) |>
separate_longer_delim(agencies, delim = ",") |>
mutate(
agencies = str_trim(agencies)
) |>
group_by(agencies) |>
slice_min(approval_fy, n = 1) |>
distinct() |>
ungroup() |>
arrange(agencies)
agen_year |>
bind_cols(list(agencies_abr, icons)) |>
set_names(c("agencies", "abbr", "logo"))
agen_year |>
bind_cols(list(agencies_abr, icons)) |>
set_names(c("agencies", "Year", "abbr", "logo"))
agen_year <- agen_year |>
bind_cols(list(agencies_abr, icons)) |>
set_names(c("agencies", "Year", "abbr", "logo"))
#| label: fig-plot
#| fig-cap: Agencies of The Global Environment Facility since its establishment in 1991
agen_year <- gef |>
filter(approval_fy >= 1991) |>
select(agencies, approval_fy) |>
separate_longer_delim(agencies, delim = ",") |>
mutate(
agencies = str_trim(agencies)
) |>
group_by(agencies) |>
slice_min(approval_fy, n = 1) |>
distinct() |>
ungroup() |>
arrange(agencies)
agen_year <- agen_year |>
bind_cols(list(agencies_abr, icons)) |>
set_names(c("agencies", "year", "abbr", "logo"))
agen_year |>
ggplot(aes(year))
install.packages("ggimage")
p_load(tidyverse, janitor, gt, countrycode, scales, ggimage)
install.packages("ggimage")
install.packages("ggimage", dependencies = TRUE)
install.packages("ggtree", dependencies = TRUE)
install.packages("ggtree")
if (!require("BiocManager", quietly = TRUE))
install.packages("BiocManager")
install.packages("BiocManager")
install.packages("BiocManager")
BiocManager::install("ggtree")
install.packages("ggimage")
install.packages("magick")
install.packages("ggimage")
p_load(tidyverse, janitor, gt, countrycode, scales, ggimage)
agen_year |>
ggplot(aes(year, agencies))
agen_year
agen_year |>
ggplot(aes(year, agencies)) +
geom_image(aes(year, agencies, image = logo))
agen_year |>
ggplot(aes(year)) +
geom_image(aes(year, image = logo))
agen_year |>
ggplot(aes(year, agencies)) +
geom_image(aes(year, agencies, image = logo))
?geom_image()
agen_year |>
ggplot(aes(year, agencies)) +
geom_image(aes(year, agencies, image = logo)) +
theme(
axis.text.y = "none"
)
agen_year |>
ggplot(aes(year, agencies)) +
geom_image(aes(year, agencies, image = logo)) +
theme(
axis.text.y = NULL
)
agen_year |>
ggplot(aes(year, agencies)) +
geom_image(aes(year, agencies, image = logo)) +
theme(
axis.text.y = element_blank()
)
agen_year |>
ggplot(aes(year, agencies)) +
geom_image(aes(year, agencies, image = logo), width = .5) +
theme(
axis.text.y = element_blank()
)
agen_year |>
ggplot(aes(year, agencies)) +
geom_image(aes(year, agencies, image = logo), position = "dodge") +
theme(
axis.text.y = element_blank()
)
agen_year |>
ggplot(aes(year, agencies)) +
geom_image(
aes(year, agencies, image = logo),
position = position_dodge(width = .5)
) +
theme(
axis.text.y = element_blank()
)
agen_year |>
ggplot(aes(year, agencies)) +
geom_image(
aes(year, agencies, image = logo),
position = position_dodge(width = 3)
) +
theme(
axis.text.y = element_blank()
)
agen_year |>
arrange(year) |>
gt()
agen_year |>
arrange(year) |>
relocate(year)
agen_year |>
arrange(year) |>
relocate(year) |>
gt() |>
cols_label(
agencies = "Agencies",
year = "Year",
abbe = "Abbreviation",
logo = "Logo"
)
agen_year |>
arrange(year) |>
relocate(year) |>
gt() |>
cols_label(
agencies = "Agencies",
year = "Year",
abbr = "Abbreviation",
logo = "Logo"
)
agen_year |>
arrange(year) |>
relocate(year) |>
gt() |>
cols_label(
agencies = "Agencies",
year = "Year",
abbr = "Abbreviation",
logo = "Logo"
) |>
opt_stylize(
style = 3,
color = "gray"
)
opt_stylize(
style = 3,
color = "gray"
)
agen_year |>
arrange(year) |>
relocate(year) |>
gt() |>
cols_label(
agencies = "Agencies",
year = "Year",
abbr = "Abbreviation",
logo = "Logo"
) |>
fmt_image(
column = logo,
height = 50
) |>
opt_stylize(
style = 3,
color = "gray"
)
agen_year |>
arrange(year) |>
relocate(year) |>
gt() |>
cols_label(
agencies = "Agencies",
year = "Year",
abbr = "Abbreviation",
logo = "Logo"
) |>
fmt_image(
column = logo,
height = 50,
width = 50
) |>
cols_align(
columns = logo,
align = "center"
) |>
opt_stylize(
style = 3,
color = "gray"
)
agen_year |>
arrange(year) |>
relocate(year) |>
gt() |>
cols_label(
agencies = "Agencies",
year = "Year",
abbr = "Abbreviation",
logo = "Logo"
) |>
fmt_image(
column = logo,
height = 50,
width = 50
) |>
cols_align(
columns = logo,
align = "center"
) |>
opt_stylize(
style = 2,
color = "gray"
)
agen_year |>
arrange(year) |>
relocate(year) |>
gt() |>
cols_label(
agencies = "Agencies",
year = "Year",
abbr = "Abbreviation",
logo = "Logo"
) |>
fmt_image(
column = logo,
height = 30,
width = 50
) |>
cols_align(
columns = logo,
align = "center"
) |>
opt_stylize(
style = 2,
color = "gray"
)
agen_year |>
arrange(year) |>
relocate(year) |>
gt() |>
cols_label(
agencies = "Agencies",
year = "Year",
abbr = "Abbreviation",
logo = "Logo"
) |>
fmt_image(
column = logo,
height = 50,
width = 30
) |>
cols_align(
columns = logo,
align = "center"
) |>
opt_stylize(
style = 2,
color = "gray"
)
agen_year |>
arrange(year) |>
relocate(year) |>
gt() |>
cols_label(
agencies = "Agencies",
year = "Year",
abbr = "Abbreviation",
logo = "Logo"
) |>
fmt_image(
column = logo,
height = 25,
width = 50
) |>
cols_align(
columns = logo,
align = "center"
) |>
opt_stylize(
style = 2,
color = "gray"
)
agen_year |>
arrange(year) |>
relocate(year) |>
gt() |>
cols_label(
agencies = "Agencies",
year = "Year",
abbr = "Abbreviation",
logo = "Logo"
) |>
fmt_image(
column = logo,
width = 50
) |>
cols_align(
columns = logo,
align = "center"
) |>
opt_stylize(
style = 2,
color = "gray"
)
