{
  "hash": "cb7ceb2a143eb65ffb136b3b23579fb5",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Bean Type Classification Using Multivariate Adaptive Regression Splines\"\ndate: \"2024-02-10\"\ncategories: [Machine Learning, MARS - Earth]\ncode-fold: true\ncode-copy: hover\ncode-summary: \"Show the code\"\nimage: image.jpg\ndraft: true\n---\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(tidymodels, tidyverse, ggthemr, farff, earth, patchwork)\n\nggthemr(\n  palette = \"flat dark\",\n  layout = \"clean\",\n  spacing = 2,\n  type = \"outer\"\n)\n\ndarken_swatch(amount = .1)\nadditional_colors <- c(\"#af4242\", \"#535364\", \"#FFC300\", \"#e09263\", \"#123367\", \"salmon\", \"#c0ca33\", \"#689f38\", \"#e53935\")\n\nset_swatch(c(unique(swatch()), additional_colors))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nbean_tbl <- readARFF(\"data/Dry_Bean_Dataset.arff\") |> \n  janitor::clean_names() |> \n  as_tibble()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nParse with reader=readr : data/Dry_Bean_Dataset.arff\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nheader: 0.008000; preproc: 0.013000; data: 0.147000; postproc: 0.001000; total: 0.169000\n```\n\n\n:::\n\n```{.r .cell-code}\nbean_tbl\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 13,611 × 17\n    area perimeter major_axis_length minor_axis_length aspect_ration\n   <dbl>     <dbl>             <dbl>             <dbl>         <dbl>\n 1 28395      610.              208.              174.          1.20\n 2 28734      638.              201.              183.          1.10\n 3 29380      624.              213.              176.          1.21\n 4 30008      646.              211.              183.          1.15\n 5 30140      620.              202.              190.          1.06\n 6 30279      635.              213.              182.          1.17\n 7 30477      670.              211.              184.          1.15\n 8 30519      630.              213.              183.          1.17\n 9 30685      636.              214.              183.          1.17\n10 30834      632.              217.              181.          1.20\n# ℹ 13,601 more rows\n# ℹ 12 more variables: eccentricity <dbl>, convex_area <dbl>,\n#   equiv_diameter <dbl>, extent <dbl>, solidity <dbl>, roundness <dbl>,\n#   compactness <dbl>, shape_factor1 <dbl>, shape_factor2 <dbl>,\n#   shape_factor3 <dbl>, shape_factor4 <dbl>, class <fct>\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(bean_tbl, aes(class)) +\n  geom_bar()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n::: {.cell layout-nrow=\"2\"}\n\n```{.r .cell-code}\nbean_long <- bean_tbl |> \n  pivot_longer(\n    cols = where(is.double),\n    names_to = \"variable\",\n    values_to = \"value\"\n  )\n  \nbean_col <- names(bean_tbl)\n\na <- bean_long |> \nfilter(str_detect(variable, \"shape\")) |> \n  ggplot(aes(value, fill = variable, group = variable)) +\n  geom_density() +\n  scale_y_continuous(labels = label_comma()) +\n  facet_wrap(~variable, scales = \"free\")\n\nb <- bean_long |> \n  filter(variable %in% c(bean_col[1:6])) |> \n  ggplot(aes(value, fill = variable, group = variable)) +\n  geom_density() +\n  scale_y_continuous(labels = label_comma()) +\n  facet_wrap(~variable, scales = \"free\") \n\nc <- bean_long |> \n  filter(variable %in% c(bean_col[7:12])) |> \n  ggplot(aes(value, fill = variable, group = variable)) +\n  geom_density() +\n  scale_y_continuous(labels = label_comma()) +\n  facet_wrap(~variable, scales = \"free\")\n\na\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: The `scale_name` argument of `discrete_scale()` is deprecated as of ggplot2\n3.5.0.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\nb\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-2.png){width=672}\n:::\n\n```{.r .cell-code}\nc\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-3.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(122)\nbean_split <- initial_split(bean_tbl, prop = .7, strata = class)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nbean_train <- training(bean_split)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nbean_folds <- vfold_cv(bean_train, v = 10)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmars_spec <- mars(\n  num_terms = tune(),\n  prod_degree = tune()\n) |> \n  set_engine(\"earth\") |> \n  set_mode(\"classification\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nrecipe(class ~ ., data = bean_train)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Recipe ──────────────────────────────────────────────────────────────────────\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Inputs \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nNumber of variables by role\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\noutcome:    1\npredictor: 16\n```\n\n\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}